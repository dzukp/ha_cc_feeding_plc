- alias: Notify Telegram on alarm avariia_datchika_ksiloroda
  trigger:
  - platform: state
    entity_id:
    - binary_sensor.b01_avariia_datchika_ksiloroda
    - binary_sensor.b02_avariia_datchika_ksiloroda
    - binary_sensor.b03_avariia_datchika_ksiloroda
    - binary_sensor.b04_avariia_datchika_ksiloroda
    - binary_sensor.b05_avariia_datchika_ksiloroda
    - binary_sensor.b06_avariia_datchika_ksiloroda
    - binary_sensor.b07_avariia_datchika_ksiloroda
    - binary_sensor.b08_avariia_datchika_ksiloroda
    - binary_sensor.b09_avariia_datchika_ksiloroda
    - binary_sensor.b10_avariia_datchika_ksiloroda
    - binary_sensor.b11_avariia_datchika_ksiloroda
    - binary_sensor.b12_avariia_datchika_ksiloroda
    - binary_sensor.b13_avariia_datchika_ksiloroda
    - binary_sensor.b14_avariia_datchika_ksiloroda
    - binary_sensor.b15_avariia_datchika_ksiloroda
    - binary_sensor.b16_avariia_datchika_ksiloroda
    - binary_sensor.b17_avariia_datchika_ksiloroda
    - binary_sensor.b18_avariia_datchika_ksiloroda
    - binary_sensor.b19_avariia_datchika_ksiloroda
    - binary_sensor.b20_avariia_datchika_ksiloroda
    - binary_sensor.b51_avariia_datchika_ksiloroda
    - binary_sensor.b52_avariia_datchika_ksiloroda
    - binary_sensor.b53_avariia_datchika_ksiloroda
    - binary_sensor.b54_avariia_datchika_ksiloroda
    - binary_sensor.b55_avariia_datchika_ksiloroda
    - binary_sensor.b56_avariia_datchika_ksiloroda
    - binary_sensor.b57_avariia_datchika_ksiloroda
    - binary_sensor.b58_avariia_datchika_ksiloroda
    - binary_sensor.b59_avariia_datchika_ksiloroda
    - binary_sensor.b60_avariia_datchika_ksiloroda
    - binary_sensor.b61_avariia_datchika_ksiloroda
    - binary_sensor.b62_avariia_datchika_ksiloroda
    - binary_sensor.b63_avariia_datchika_ksiloroda
    - binary_sensor.b64_avariia_datchika_ksiloroda
    - binary_sensor.b65_avariia_datchika_ksiloroda
    - binary_sensor.b66_avariia_datchika_ksiloroda
    - binary_sensor.b67_avariia_datchika_ksiloroda
    - binary_sensor.b68_avariia_datchika_ksiloroda
    - binary_sensor.b69_avariia_datchika_ksiloroda
    - binary_sensor.b70_avariia_datchika_ksiloroda
    to: 'on'
  condition:
  - condition: template
    value_template: '{{ trigger.to_state.state == ''on'' }}'
  action:
  - service: notify.telegram
    data:
      message: '{% set pool_num = trigger.entity_id.split(".")[1][1:3] | int %}â€¼ï¸
        Ğ‘Ğ°ÑÑĞµĞ¹Ğ½ {{ pool_num }}. ğŸ«§ğŸŒ¡ ĞÑˆĞ¸Ğ±ĞºĞ° Ğ´Ğ°Ñ‚Ñ‡Ğ¸ĞºĞ° ĞºĞ¸ÑĞ»Ğ¾Ñ€Ğ¾Ğ´Ğ°'
  mode: queued
- alias: Notify Telegram on alarm avariia_kormushka_1
  trigger:
  - platform: state
    entity_id:
    - binary_sensor.b01_avariia_kormushka_1
    - binary_sensor.b02_avariia_kormushka_1
    - binary_sensor.b03_avariia_kormushka_1
    - binary_sensor.b04_avariia_kormushka_1
    - binary_sensor.b05_avariia_kormushka_1
    - binary_sensor.b06_avariia_kormushka_1
    - binary_sensor.b07_avariia_kormushka_1
    - binary_sensor.b08_avariia_kormushka_1
    - binary_sensor.b09_avariia_kormushka_1
    - binary_sensor.b10_avariia_kormushka_1
    - binary_sensor.b11_avariia_kormushka_1
    - binary_sensor.b12_avariia_kormushka_1
    - binary_sensor.b13_avariia_kormushka_1
    - binary_sensor.b14_avariia_kormushka_1
    - binary_sensor.b15_avariia_kormushka_1
    - binary_sensor.b16_avariia_kormushka_1
    - binary_sensor.b17_avariia_kormushka_1
    - binary_sensor.b18_avariia_kormushka_1
    - binary_sensor.b19_avariia_kormushka_1
    - binary_sensor.b20_avariia_kormushka_1
    - binary_sensor.b21_avariia_kormushka_1
    - binary_sensor.b22_avariia_kormushka_1
    - binary_sensor.b23_avariia_kormushka_1
    - binary_sensor.b24_avariia_kormushka_1
    - binary_sensor.b25_avariia_kormushka_1
    - binary_sensor.b26_avariia_kormushka_1
    - binary_sensor.b27_avariia_kormushka_1
    - binary_sensor.b28_avariia_kormushka_1
    - binary_sensor.b29_avariia_kormushka_1
    - binary_sensor.b30_avariia_kormushka_1
    - binary_sensor.b31_avariia_kormushka_1
    - binary_sensor.b32_avariia_kormushka_1
    - binary_sensor.b33_avariia_kormushka_1
    - binary_sensor.b34_avariia_kormushka_1
    - binary_sensor.b35_avariia_kormushka_1
    - binary_sensor.b36_avariia_kormushka_1
    - binary_sensor.b37_avariia_kormushka_1
    - binary_sensor.b38_avariia_kormushka_1
    - binary_sensor.b39_avariia_kormushka_1
    - binary_sensor.b40_avariia_kormushka_1
    - binary_sensor.b41_avariia_kormushka_1
    - binary_sensor.b42_avariia_kormushka_1
    - binary_sensor.b43_avariia_kormushka_1
    - binary_sensor.b44_avariia_kormushka_1
    - binary_sensor.b45_avariia_kormushka_1
    - binary_sensor.b46_avariia_kormushka_1
    - binary_sensor.b47_avariia_kormushka_1
    - binary_sensor.b48_avariia_kormushka_1
    - binary_sensor.b49_avariia_kormushka_1
    - binary_sensor.b50_avariia_kormushka_1
    - binary_sensor.b51_avariia_kormushka_1
    - binary_sensor.b52_avariia_kormushka_1
    - binary_sensor.b53_avariia_kormushka_1
    - binary_sensor.b54_avariia_kormushka_1
    - binary_sensor.b55_avariia_kormushka_1
    - binary_sensor.b56_avariia_kormushka_1
    - binary_sensor.b57_avariia_kormushka_1
    - binary_sensor.b58_avariia_kormushka_1
    - binary_sensor.b59_avariia_kormushka_1
    - binary_sensor.b60_avariia_kormushka_1
    - binary_sensor.b61_avariia_kormushka_1
    - binary_sensor.b62_avariia_kormushka_1
    - binary_sensor.b63_avariia_kormushka_1
    - binary_sensor.b64_avariia_kormushka_1
    - binary_sensor.b65_avariia_kormushka_1
    - binary_sensor.b66_avariia_kormushka_1
    - binary_sensor.b67_avariia_kormushka_1
    - binary_sensor.b68_avariia_kormushka_1
    - binary_sensor.b69_avariia_kormushka_1
    - binary_sensor.b70_avariia_kormushka_1
    - binary_sensor.b71_avariia_kormushka_1
    - binary_sensor.b72_avariia_kormushka_1
    - binary_sensor.b73_avariia_kormushka_1
    - binary_sensor.b74_avariia_kormushka_1
    - binary_sensor.b75_avariia_kormushka_1
    - binary_sensor.b76_avariia_kormushka_1
    - binary_sensor.b77_avariia_kormushka_1
    - binary_sensor.b78_avariia_kormushka_1
    - binary_sensor.b79_avariia_kormushka_1
    - binary_sensor.b80_avariia_kormushka_1
    - binary_sensor.b81_avariia_kormushka_1
    - binary_sensor.b82_avariia_kormushka_1
    - binary_sensor.b83_avariia_kormushka_1
    - binary_sensor.b84_avariia_kormushka_1
    - binary_sensor.b85_avariia_kormushka_1
    - binary_sensor.b86_avariia_kormushka_1
    - binary_sensor.b87_avariia_kormushka_1
    - binary_sensor.b88_avariia_kormushka_1
    - binary_sensor.b89_avariia_kormushka_1
    - binary_sensor.b90_avariia_kormushka_1
    - binary_sensor.b91_avariia_kormushka_1
    - binary_sensor.b92_avariia_kormushka_1
    - binary_sensor.b93_avariia_kormushka_1
    - binary_sensor.b94_avariia_kormushka_1
    - binary_sensor.b95_avariia_kormushka_1
    - binary_sensor.b96_avariia_kormushka_1
    - binary_sensor.b97_avariia_kormushka_1
    - binary_sensor.b98_avariia_kormushka_1
    - binary_sensor.b99_avariia_kormushka_1
    - binary_sensor.b100_avariia_kormushka_1
    to: 'on'
  condition:
  - condition: template
    value_template: '{{ trigger.to_state.state == ''on'' }}'
  action:
  - service: notify.telegram
    data:
      message: '{% set pool_num = trigger.entity_id.split(".")[1][1:3] | int %}â€¼ï¸
        Ğ‘Ğ°ÑÑĞµĞ¹Ğ½ {{ pool_num }}. ğŸ«˜ ĞĞµ Ğ²ĞºĞ»ÑÑ‡Ğ¸Ğ»Ğ°ÑÑŒ ĞºĞ¾Ñ€Ğ¼ÑƒÑˆĞºĞ° 1'
  mode: queued
- alias: Notify Telegram on alarm avariia_kormushka_2
  trigger:
  - platform: state
    entity_id:
    - binary_sensor.b01_avariia_kormushka_2
    - binary_sensor.b02_avariia_kormushka_2
    - binary_sensor.b03_avariia_kormushka_2
    - binary_sensor.b04_avariia_kormushka_2
    - binary_sensor.b05_avariia_kormushka_2
    - binary_sensor.b06_avariia_kormushka_2
    - binary_sensor.b07_avariia_kormushka_2
    - binary_sensor.b08_avariia_kormushka_2
    - binary_sensor.b09_avariia_kormushka_2
    - binary_sensor.b10_avariia_kormushka_2
    - binary_sensor.b11_avariia_kormushka_2
    - binary_sensor.b12_avariia_kormushka_2
    - binary_sensor.b13_avariia_kormushka_2
    - binary_sensor.b14_avariia_kormushka_2
    - binary_sensor.b15_avariia_kormushka_2
    - binary_sensor.b16_avariia_kormushka_2
    - binary_sensor.b17_avariia_kormushka_2
    - binary_sensor.b18_avariia_kormushka_2
    - binary_sensor.b19_avariia_kormushka_2
    - binary_sensor.b20_avariia_kormushka_2
    - binary_sensor.b21_avariia_kormushka_2
    - binary_sensor.b22_avariia_kormushka_2
    - binary_sensor.b23_avariia_kormushka_2
    - binary_sensor.b24_avariia_kormushka_2
    - binary_sensor.b25_avariia_kormushka_2
    - binary_sensor.b26_avariia_kormushka_2
    - binary_sensor.b27_avariia_kormushka_2
    - binary_sensor.b28_avariia_kormushka_2
    - binary_sensor.b29_avariia_kormushka_2
    - binary_sensor.b30_avariia_kormushka_2
    - binary_sensor.b31_avariia_kormushka_2
    - binary_sensor.b32_avariia_kormushka_2
    - binary_sensor.b33_avariia_kormushka_2
    - binary_sensor.b34_avariia_kormushka_2
    - binary_sensor.b35_avariia_kormushka_2
    - binary_sensor.b36_avariia_kormushka_2
    - binary_sensor.b37_avariia_kormushka_2
    - binary_sensor.b38_avariia_kormushka_2
    - binary_sensor.b39_avariia_kormushka_2
    - binary_sensor.b40_avariia_kormushka_2
    - binary_sensor.b41_avariia_kormushka_2
    - binary_sensor.b42_avariia_kormushka_2
    - binary_sensor.b43_avariia_kormushka_2
    - binary_sensor.b44_avariia_kormushka_2
    - binary_sensor.b45_avariia_kormushka_2
    - binary_sensor.b46_avariia_kormushka_2
    - binary_sensor.b47_avariia_kormushka_2
    - binary_sensor.b48_avariia_kormushka_2
    - binary_sensor.b49_avariia_kormushka_2
    - binary_sensor.b50_avariia_kormushka_2
    - binary_sensor.b51_avariia_kormushka_2
    - binary_sensor.b52_avariia_kormushka_2
    - binary_sensor.b53_avariia_kormushka_2
    - binary_sensor.b54_avariia_kormushka_2
    - binary_sensor.b55_avariia_kormushka_2
    - binary_sensor.b56_avariia_kormushka_2
    - binary_sensor.b57_avariia_kormushka_2
    - binary_sensor.b58_avariia_kormushka_2
    - binary_sensor.b59_avariia_kormushka_2
    - binary_sensor.b60_avariia_kormushka_2
    - binary_sensor.b61_avariia_kormushka_2
    - binary_sensor.b62_avariia_kormushka_2
    - binary_sensor.b63_avariia_kormushka_2
    - binary_sensor.b64_avariia_kormushka_2
    - binary_sensor.b65_avariia_kormushka_2
    - binary_sensor.b66_avariia_kormushka_2
    - binary_sensor.b67_avariia_kormushka_2
    - binary_sensor.b68_avariia_kormushka_2
    - binary_sensor.b69_avariia_kormushka_2
    - binary_sensor.b70_avariia_kormushka_2
    - binary_sensor.b71_avariia_kormushka_2
    - binary_sensor.b72_avariia_kormushka_2
    - binary_sensor.b73_avariia_kormushka_2
    - binary_sensor.b74_avariia_kormushka_2
    - binary_sensor.b75_avariia_kormushka_2
    - binary_sensor.b76_avariia_kormushka_2
    - binary_sensor.b77_avariia_kormushka_2
    - binary_sensor.b78_avariia_kormushka_2
    - binary_sensor.b79_avariia_kormushka_2
    - binary_sensor.b80_avariia_kormushka_2
    - binary_sensor.b81_avariia_kormushka_2
    - binary_sensor.b82_avariia_kormushka_2
    - binary_sensor.b83_avariia_kormushka_2
    - binary_sensor.b84_avariia_kormushka_2
    - binary_sensor.b85_avariia_kormushka_2
    - binary_sensor.b86_avariia_kormushka_2
    - binary_sensor.b87_avariia_kormushka_2
    - binary_sensor.b88_avariia_kormushka_2
    - binary_sensor.b89_avariia_kormushka_2
    - binary_sensor.b90_avariia_kormushka_2
    - binary_sensor.b91_avariia_kormushka_2
    - binary_sensor.b92_avariia_kormushka_2
    - binary_sensor.b93_avariia_kormushka_2
    - binary_sensor.b94_avariia_kormushka_2
    - binary_sensor.b95_avariia_kormushka_2
    - binary_sensor.b96_avariia_kormushka_2
    - binary_sensor.b97_avariia_kormushka_2
    - binary_sensor.b98_avariia_kormushka_2
    - binary_sensor.b99_avariia_kormushka_2
    - binary_sensor.b100_avariia_kormushka_2
    to: 'on'
  condition:
  - condition: template
    value_template: '{{ trigger.to_state.state == ''on'' }}'
  action:
  - service: notify.telegram
    data:
      message: '{% set pool_num = trigger.entity_id.split(".")[1][1:3] | int %}â€¼ï¸
        Ğ‘Ğ°ÑÑĞµĞ¹Ğ½ {{ pool_num }}. ğŸ«˜ ĞĞµ Ğ²ĞºĞ»ÑÑ‡Ğ¸Ğ»Ğ°ÑÑŒ ĞºĞ¾Ñ€Ğ¼ÑƒÑˆĞºĞ° 2'
  mode: queued
- alias: Notify Telegram on alarm avariia_oksigeneratora
  trigger:
  - platform: state
    entity_id:
    - binary_sensor.b01_avariia_oksigeneratora
    - binary_sensor.b02_avariia_oksigeneratora
    - binary_sensor.b03_avariia_oksigeneratora
    - binary_sensor.b04_avariia_oksigeneratora
    - binary_sensor.b05_avariia_oksigeneratora
    - binary_sensor.b06_avariia_oksigeneratora
    - binary_sensor.b07_avariia_oksigeneratora
    - binary_sensor.b08_avariia_oksigeneratora
    - binary_sensor.b09_avariia_oksigeneratora
    - binary_sensor.b10_avariia_oksigeneratora
    - binary_sensor.b11_avariia_oksigeneratora
    - binary_sensor.b12_avariia_oksigeneratora
    - binary_sensor.b13_avariia_oksigeneratora
    - binary_sensor.b14_avariia_oksigeneratora
    - binary_sensor.b15_avariia_oksigeneratora
    - binary_sensor.b16_avariia_oksigeneratora
    - binary_sensor.b17_avariia_oksigeneratora
    - binary_sensor.b18_avariia_oksigeneratora
    - binary_sensor.b19_avariia_oksigeneratora
    - binary_sensor.b20_avariia_oksigeneratora
    - binary_sensor.b21_avariia_oksigeneratora
    - binary_sensor.b22_avariia_oksigeneratora
    - binary_sensor.b23_avariia_oksigeneratora
    - binary_sensor.b24_avariia_oksigeneratora
    - binary_sensor.b25_avariia_oksigeneratora
    - binary_sensor.b26_avariia_oksigeneratora
    - binary_sensor.b27_avariia_oksigeneratora
    - binary_sensor.b28_avariia_oksigeneratora
    - binary_sensor.b29_avariia_oksigeneratora
    - binary_sensor.b30_avariia_oksigeneratora
    - binary_sensor.b31_avariia_oksigeneratora
    - binary_sensor.b32_avariia_oksigeneratora
    - binary_sensor.b33_avariia_oksigeneratora
    - binary_sensor.b34_avariia_oksigeneratora
    - binary_sensor.b35_avariia_oksigeneratora
    - binary_sensor.b36_avariia_oksigeneratora
    - binary_sensor.b37_avariia_oksigeneratora
    - binary_sensor.b38_avariia_oksigeneratora
    - binary_sensor.b39_avariia_oksigeneratora
    - binary_sensor.b40_avariia_oksigeneratora
    - binary_sensor.b41_avariia_oksigeneratora
    - binary_sensor.b42_avariia_oksigeneratora
    - binary_sensor.b43_avariia_oksigeneratora
    - binary_sensor.b44_avariia_oksigeneratora
    - binary_sensor.b45_avariia_oksigeneratora
    - binary_sensor.b46_avariia_oksigeneratora
    - binary_sensor.b47_avariia_oksigeneratora
    - binary_sensor.b48_avariia_oksigeneratora
    - binary_sensor.b49_avariia_oksigeneratora
    - binary_sensor.b50_avariia_oksigeneratora
    - binary_sensor.b51_avariia_oksigeneratora
    - binary_sensor.b52_avariia_oksigeneratora
    - binary_sensor.b53_avariia_oksigeneratora
    - binary_sensor.b54_avariia_oksigeneratora
    - binary_sensor.b55_avariia_oksigeneratora
    - binary_sensor.b56_avariia_oksigeneratora
    - binary_sensor.b57_avariia_oksigeneratora
    - binary_sensor.b58_avariia_oksigeneratora
    - binary_sensor.b59_avariia_oksigeneratora
    - binary_sensor.b60_avariia_oksigeneratora
    - binary_sensor.b61_avariia_oksigeneratora
    - binary_sensor.b62_avariia_oksigeneratora
    - binary_sensor.b63_avariia_oksigeneratora
    - binary_sensor.b64_avariia_oksigeneratora
    - binary_sensor.b65_avariia_oksigeneratora
    - binary_sensor.b66_avariia_oksigeneratora
    - binary_sensor.b67_avariia_oksigeneratora
    - binary_sensor.b68_avariia_oksigeneratora
    - binary_sensor.b69_avariia_oksigeneratora
    - binary_sensor.b70_avariia_oksigeneratora
    - binary_sensor.b71_avariia_oksigeneratora
    - binary_sensor.b72_avariia_oksigeneratora
    - binary_sensor.b73_avariia_oksigeneratora
    - binary_sensor.b74_avariia_oksigeneratora
    - binary_sensor.b75_avariia_oksigeneratora
    - binary_sensor.b76_avariia_oksigeneratora
    - binary_sensor.b77_avariia_oksigeneratora
    - binary_sensor.b78_avariia_oksigeneratora
    - binary_sensor.b79_avariia_oksigeneratora
    - binary_sensor.b80_avariia_oksigeneratora
    - binary_sensor.b81_avariia_oksigeneratora
    - binary_sensor.b82_avariia_oksigeneratora
    - binary_sensor.b83_avariia_oksigeneratora
    - binary_sensor.b84_avariia_oksigeneratora
    - binary_sensor.b85_avariia_oksigeneratora
    - binary_sensor.b86_avariia_oksigeneratora
    - binary_sensor.b87_avariia_oksigeneratora
    - binary_sensor.b88_avariia_oksigeneratora
    - binary_sensor.b89_avariia_oksigeneratora
    - binary_sensor.b90_avariia_oksigeneratora
    - binary_sensor.b91_avariia_oksigeneratora
    - binary_sensor.b92_avariia_oksigeneratora
    - binary_sensor.b93_avariia_oksigeneratora
    - binary_sensor.b94_avariia_oksigeneratora
    - binary_sensor.b95_avariia_oksigeneratora
    - binary_sensor.b96_avariia_oksigeneratora
    - binary_sensor.b97_avariia_oksigeneratora
    - binary_sensor.b98_avariia_oksigeneratora
    - binary_sensor.b99_avariia_oksigeneratora
    - binary_sensor.b100_avariia_oksigeneratora
    to: 'on'
  condition:
  - condition: template
    value_template: '{{ trigger.to_state.state == ''on'' }}'
  action:
  - service: notify.telegram
    data:
      message: '{% set pool_num = trigger.entity_id.split(".")[1][1:3] | int %}â€¼ï¸
        Ğ‘Ğ°ÑÑĞµĞ¹Ğ½ {{ pool_num }}. ğŸ’¨ ĞĞµ Ğ²ĞºĞ»ÑÑ‡ĞµĞ½ Ğ¾ĞºÑĞ¸Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€'
  mode: queued
- alias: Notify Telegram on alarm avariia_nizkaia_temperatura
  trigger:
  - platform: state
    entity_id:
    - binary_sensor.b01_avariia_nizkaia_temperatura
    - binary_sensor.b02_avariia_nizkaia_temperatura
    - binary_sensor.b03_avariia_nizkaia_temperatura
    - binary_sensor.b04_avariia_nizkaia_temperatura
    - binary_sensor.b05_avariia_nizkaia_temperatura
    - binary_sensor.b06_avariia_nizkaia_temperatura
    - binary_sensor.b07_avariia_nizkaia_temperatura
    - binary_sensor.b08_avariia_nizkaia_temperatura
    - binary_sensor.b09_avariia_nizkaia_temperatura
    - binary_sensor.b10_avariia_nizkaia_temperatura
    - binary_sensor.b11_avariia_nizkaia_temperatura
    - binary_sensor.b12_avariia_nizkaia_temperatura
    - binary_sensor.b13_avariia_nizkaia_temperatura
    - binary_sensor.b14_avariia_nizkaia_temperatura
    - binary_sensor.b15_avariia_nizkaia_temperatura
    - binary_sensor.b16_avariia_nizkaia_temperatura
    - binary_sensor.b17_avariia_nizkaia_temperatura
    - binary_sensor.b18_avariia_nizkaia_temperatura
    - binary_sensor.b19_avariia_nizkaia_temperatura
    - binary_sensor.b20_avariia_nizkaia_temperatura
    - binary_sensor.b21_avariia_nizkaia_temperatura
    - binary_sensor.b22_avariia_nizkaia_temperatura
    - binary_sensor.b23_avariia_nizkaia_temperatura
    - binary_sensor.b24_avariia_nizkaia_temperatura
    - binary_sensor.b25_avariia_nizkaia_temperatura
    - binary_sensor.b26_avariia_nizkaia_temperatura
    - binary_sensor.b27_avariia_nizkaia_temperatura
    - binary_sensor.b28_avariia_nizkaia_temperatura
    - binary_sensor.b29_avariia_nizkaia_temperatura
    - binary_sensor.b30_avariia_nizkaia_temperatura
    - binary_sensor.b31_avariia_nizkaia_temperatura
    - binary_sensor.b32_avariia_nizkaia_temperatura
    - binary_sensor.b33_avariia_nizkaia_temperatura
    - binary_sensor.b34_avariia_nizkaia_temperatura
    - binary_sensor.b35_avariia_nizkaia_temperatura
    - binary_sensor.b36_avariia_nizkaia_temperatura
    - binary_sensor.b37_avariia_nizkaia_temperatura
    - binary_sensor.b38_avariia_nizkaia_temperatura
    - binary_sensor.b39_avariia_nizkaia_temperatura
    - binary_sensor.b40_avariia_nizkaia_temperatura
    - binary_sensor.b41_avariia_nizkaia_temperatura
    - binary_sensor.b42_avariia_nizkaia_temperatura
    - binary_sensor.b43_avariia_nizkaia_temperatura
    - binary_sensor.b44_avariia_nizkaia_temperatura
    - binary_sensor.b45_avariia_nizkaia_temperatura
    - binary_sensor.b46_avariia_nizkaia_temperatura
    - binary_sensor.b47_avariia_nizkaia_temperatura
    - binary_sensor.b48_avariia_nizkaia_temperatura
    - binary_sensor.b49_avariia_nizkaia_temperatura
    - binary_sensor.b50_avariia_nizkaia_temperatura
    - binary_sensor.b51_avariia_nizkaia_temperatura
    - binary_sensor.b52_avariia_nizkaia_temperatura
    - binary_sensor.b53_avariia_nizkaia_temperatura
    - binary_sensor.b54_avariia_nizkaia_temperatura
    - binary_sensor.b55_avariia_nizkaia_temperatura
    - binary_sensor.b56_avariia_nizkaia_temperatura
    - binary_sensor.b57_avariia_nizkaia_temperatura
    - binary_sensor.b58_avariia_nizkaia_temperatura
    - binary_sensor.b59_avariia_nizkaia_temperatura
    - binary_sensor.b60_avariia_nizkaia_temperatura
    - binary_sensor.b61_avariia_nizkaia_temperatura
    - binary_sensor.b62_avariia_nizkaia_temperatura
    - binary_sensor.b63_avariia_nizkaia_temperatura
    - binary_sensor.b64_avariia_nizkaia_temperatura
    - binary_sensor.b65_avariia_nizkaia_temperatura
    - binary_sensor.b66_avariia_nizkaia_temperatura
    - binary_sensor.b67_avariia_nizkaia_temperatura
    - binary_sensor.b68_avariia_nizkaia_temperatura
    - binary_sensor.b69_avariia_nizkaia_temperatura
    - binary_sensor.b70_avariia_nizkaia_temperatura
    - binary_sensor.b71_avariia_nizkaia_temperatura
    - binary_sensor.b72_avariia_nizkaia_temperatura
    - binary_sensor.b73_avariia_nizkaia_temperatura
    - binary_sensor.b74_avariia_nizkaia_temperatura
    - binary_sensor.b75_avariia_nizkaia_temperatura
    - binary_sensor.b76_avariia_nizkaia_temperatura
    - binary_sensor.b77_avariia_nizkaia_temperatura
    - binary_sensor.b78_avariia_nizkaia_temperatura
    - binary_sensor.b79_avariia_nizkaia_temperatura
    - binary_sensor.b80_avariia_nizkaia_temperatura
    - binary_sensor.b81_avariia_nizkaia_temperatura
    - binary_sensor.b82_avariia_nizkaia_temperatura
    - binary_sensor.b83_avariia_nizkaia_temperatura
    - binary_sensor.b84_avariia_nizkaia_temperatura
    - binary_sensor.b85_avariia_nizkaia_temperatura
    - binary_sensor.b86_avariia_nizkaia_temperatura
    - binary_sensor.b87_avariia_nizkaia_temperatura
    - binary_sensor.b88_avariia_nizkaia_temperatura
    - binary_sensor.b89_avariia_nizkaia_temperatura
    - binary_sensor.b90_avariia_nizkaia_temperatura
    - binary_sensor.b91_avariia_nizkaia_temperatura
    - binary_sensor.b92_avariia_nizkaia_temperatura
    - binary_sensor.b93_avariia_nizkaia_temperatura
    - binary_sensor.b94_avariia_nizkaia_temperatura
    - binary_sensor.b95_avariia_nizkaia_temperatura
    - binary_sensor.b96_avariia_nizkaia_temperatura
    - binary_sensor.b97_avariia_nizkaia_temperatura
    - binary_sensor.b98_avariia_nizkaia_temperatura
    - binary_sensor.b99_avariia_nizkaia_temperatura
    - binary_sensor.b100_avariia_nizkaia_temperatura
    to: 'on'
  condition:
  - condition: template
    value_template: '{{ trigger.to_state.state == ''on'' }}'
  action:
  - service: notify.telegram
    data:
      message: '{% set pool_num = trigger.entity_id.split(".")[1][1:3] | int %}{%
        set limit_sensor = "number.sh" ~ ((pool_num - 1) // 5 + 1) ~ "_niz_limit_temperatury"
        %}{% set sensor = "sensor.b" ~  ("%02d" % pool_num) ~ "_temperatura" %}â€¼ï¸
        Ğ‘Ğ°ÑÑĞµĞ¹Ğ½ {{ pool_num }}.ğŸŒ¡ Ğ¢ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ğ° {{ states(sensor) }}Â°C < {{ states(limit_sensor)
        }}Â°C'
  mode: queued
- alias: Notify Telegram on alarm avariia_vysokaia_temperatura
  trigger:
  - platform: state
    entity_id:
    - binary_sensor.b01_avariia_vysokaia_temperatura
    - binary_sensor.b02_avariia_vysokaia_temperatura
    - binary_sensor.b03_avariia_vysokaia_temperatura
    - binary_sensor.b04_avariia_vysokaia_temperatura
    - binary_sensor.b05_avariia_vysokaia_temperatura
    - binary_sensor.b06_avariia_vysokaia_temperatura
    - binary_sensor.b07_avariia_vysokaia_temperatura
    - binary_sensor.b08_avariia_vysokaia_temperatura
    - binary_sensor.b09_avariia_vysokaia_temperatura
    - binary_sensor.b10_avariia_vysokaia_temperatura
    - binary_sensor.b11_avariia_vysokaia_temperatura
    - binary_sensor.b12_avariia_vysokaia_temperatura
    - binary_sensor.b13_avariia_vysokaia_temperatura
    - binary_sensor.b14_avariia_vysokaia_temperatura
    - binary_sensor.b15_avariia_vysokaia_temperatura
    - binary_sensor.b16_avariia_vysokaia_temperatura
    - binary_sensor.b17_avariia_vysokaia_temperatura
    - binary_sensor.b18_avariia_vysokaia_temperatura
    - binary_sensor.b19_avariia_vysokaia_temperatura
    - binary_sensor.b20_avariia_vysokaia_temperatura
    - binary_sensor.b21_avariia_vysokaia_temperatura
    - binary_sensor.b22_avariia_vysokaia_temperatura
    - binary_sensor.b23_avariia_vysokaia_temperatura
    - binary_sensor.b24_avariia_vysokaia_temperatura
    - binary_sensor.b25_avariia_vysokaia_temperatura
    - binary_sensor.b26_avariia_vysokaia_temperatura
    - binary_sensor.b27_avariia_vysokaia_temperatura
    - binary_sensor.b28_avariia_vysokaia_temperatura
    - binary_sensor.b29_avariia_vysokaia_temperatura
    - binary_sensor.b30_avariia_vysokaia_temperatura
    - binary_sensor.b31_avariia_vysokaia_temperatura
    - binary_sensor.b32_avariia_vysokaia_temperatura
    - binary_sensor.b33_avariia_vysokaia_temperatura
    - binary_sensor.b34_avariia_vysokaia_temperatura
    - binary_sensor.b35_avariia_vysokaia_temperatura
    - binary_sensor.b36_avariia_vysokaia_temperatura
    - binary_sensor.b37_avariia_vysokaia_temperatura
    - binary_sensor.b38_avariia_vysokaia_temperatura
    - binary_sensor.b39_avariia_vysokaia_temperatura
    - binary_sensor.b40_avariia_vysokaia_temperatura
    - binary_sensor.b41_avariia_vysokaia_temperatura
    - binary_sensor.b42_avariia_vysokaia_temperatura
    - binary_sensor.b43_avariia_vysokaia_temperatura
    - binary_sensor.b44_avariia_vysokaia_temperatura
    - binary_sensor.b45_avariia_vysokaia_temperatura
    - binary_sensor.b46_avariia_vysokaia_temperatura
    - binary_sensor.b47_avariia_vysokaia_temperatura
    - binary_sensor.b48_avariia_vysokaia_temperatura
    - binary_sensor.b49_avariia_vysokaia_temperatura
    - binary_sensor.b50_avariia_vysokaia_temperatura
    - binary_sensor.b51_avariia_vysokaia_temperatura
    - binary_sensor.b52_avariia_vysokaia_temperatura
    - binary_sensor.b53_avariia_vysokaia_temperatura
    - binary_sensor.b54_avariia_vysokaia_temperatura
    - binary_sensor.b55_avariia_vysokaia_temperatura
    - binary_sensor.b56_avariia_vysokaia_temperatura
    - binary_sensor.b57_avariia_vysokaia_temperatura
    - binary_sensor.b58_avariia_vysokaia_temperatura
    - binary_sensor.b59_avariia_vysokaia_temperatura
    - binary_sensor.b60_avariia_vysokaia_temperatura
    - binary_sensor.b61_avariia_vysokaia_temperatura
    - binary_sensor.b62_avariia_vysokaia_temperatura
    - binary_sensor.b63_avariia_vysokaia_temperatura
    - binary_sensor.b64_avariia_vysokaia_temperatura
    - binary_sensor.b65_avariia_vysokaia_temperatura
    - binary_sensor.b66_avariia_vysokaia_temperatura
    - binary_sensor.b67_avariia_vysokaia_temperatura
    - binary_sensor.b68_avariia_vysokaia_temperatura
    - binary_sensor.b69_avariia_vysokaia_temperatura
    - binary_sensor.b70_avariia_vysokaia_temperatura
    - binary_sensor.b71_avariia_vysokaia_temperatura
    - binary_sensor.b72_avariia_vysokaia_temperatura
    - binary_sensor.b73_avariia_vysokaia_temperatura
    - binary_sensor.b74_avariia_vysokaia_temperatura
    - binary_sensor.b75_avariia_vysokaia_temperatura
    - binary_sensor.b76_avariia_vysokaia_temperatura
    - binary_sensor.b77_avariia_vysokaia_temperatura
    - binary_sensor.b78_avariia_vysokaia_temperatura
    - binary_sensor.b79_avariia_vysokaia_temperatura
    - binary_sensor.b80_avariia_vysokaia_temperatura
    - binary_sensor.b81_avariia_vysokaia_temperatura
    - binary_sensor.b82_avariia_vysokaia_temperatura
    - binary_sensor.b83_avariia_vysokaia_temperatura
    - binary_sensor.b84_avariia_vysokaia_temperatura
    - binary_sensor.b85_avariia_vysokaia_temperatura
    - binary_sensor.b86_avariia_vysokaia_temperatura
    - binary_sensor.b87_avariia_vysokaia_temperatura
    - binary_sensor.b88_avariia_vysokaia_temperatura
    - binary_sensor.b89_avariia_vysokaia_temperatura
    - binary_sensor.b90_avariia_vysokaia_temperatura
    - binary_sensor.b91_avariia_vysokaia_temperatura
    - binary_sensor.b92_avariia_vysokaia_temperatura
    - binary_sensor.b93_avariia_vysokaia_temperatura
    - binary_sensor.b94_avariia_vysokaia_temperatura
    - binary_sensor.b95_avariia_vysokaia_temperatura
    - binary_sensor.b96_avariia_vysokaia_temperatura
    - binary_sensor.b97_avariia_vysokaia_temperatura
    - binary_sensor.b98_avariia_vysokaia_temperatura
    - binary_sensor.b99_avariia_vysokaia_temperatura
    - binary_sensor.b100_avariia_vysokaia_temperatura
    to: 'on'
  condition:
  - condition: template
    value_template: '{{ trigger.to_state.state == ''on'' }}'
  action:
  - service: notify.telegram
    data:
      message: '{% set pool_num = trigger.entity_id.split(".")[1][1:3] | int %}{%
        set limit_sensor = "number.sh" ~ ((pool_num - 1) // 5 + 1) ~ "_verkh_limit_temperatury"
        %}{% set sensor = "sensor.b" ~  ("%02d" % pool_num) ~ "_temperatura" %}â€¼ï¸
        Ğ‘Ğ°ÑÑĞµĞ¹Ğ½ {{ pool_num }}.ğŸŒ¡ğŸŒ¡ Ğ¢ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ğ° {{ states(sensor) }}Â°C > {{ states(limit_sensor)
        }}Â°C'
  mode: queued
- alias: Notify Telegram on alarm avariia_nizkii_kislorod
  trigger:
  - platform: state
    entity_id:
    - binary_sensor.b01_avariia_nizkii_kislorod
    - binary_sensor.b02_avariia_nizkii_kislorod
    - binary_sensor.b03_avariia_nizkii_kislorod
    - binary_sensor.b04_avariia_nizkii_kislorod
    - binary_sensor.b05_avariia_nizkii_kislorod
    - binary_sensor.b06_avariia_nizkii_kislorod
    - binary_sensor.b07_avariia_nizkii_kislorod
    - binary_sensor.b08_avariia_nizkii_kislorod
    - binary_sensor.b09_avariia_nizkii_kislorod
    - binary_sensor.b10_avariia_nizkii_kislorod
    - binary_sensor.b11_avariia_nizkii_kislorod
    - binary_sensor.b12_avariia_nizkii_kislorod
    - binary_sensor.b13_avariia_nizkii_kislorod
    - binary_sensor.b14_avariia_nizkii_kislorod
    - binary_sensor.b15_avariia_nizkii_kislorod
    - binary_sensor.b16_avariia_nizkii_kislorod
    - binary_sensor.b17_avariia_nizkii_kislorod
    - binary_sensor.b18_avariia_nizkii_kislorod
    - binary_sensor.b19_avariia_nizkii_kislorod
    - binary_sensor.b20_avariia_nizkii_kislorod
    - binary_sensor.b21_avariia_nizkii_kislorod
    - binary_sensor.b22_avariia_nizkii_kislorod
    - binary_sensor.b23_avariia_nizkii_kislorod
    - binary_sensor.b24_avariia_nizkii_kislorod
    - binary_sensor.b25_avariia_nizkii_kislorod
    - binary_sensor.b26_avariia_nizkii_kislorod
    - binary_sensor.b27_avariia_nizkii_kislorod
    - binary_sensor.b28_avariia_nizkii_kislorod
    - binary_sensor.b29_avariia_nizkii_kislorod
    - binary_sensor.b30_avariia_nizkii_kislorod
    - binary_sensor.b31_avariia_nizkii_kislorod
    - binary_sensor.b32_avariia_nizkii_kislorod
    - binary_sensor.b33_avariia_nizkii_kislorod
    - binary_sensor.b34_avariia_nizkii_kislorod
    - binary_sensor.b35_avariia_nizkii_kislorod
    - binary_sensor.b36_avariia_nizkii_kislorod
    - binary_sensor.b37_avariia_nizkii_kislorod
    - binary_sensor.b38_avariia_nizkii_kislorod
    - binary_sensor.b39_avariia_nizkii_kislorod
    - binary_sensor.b40_avariia_nizkii_kislorod
    - binary_sensor.b41_avariia_nizkii_kislorod
    - binary_sensor.b42_avariia_nizkii_kislorod
    - binary_sensor.b43_avariia_nizkii_kislorod
    - binary_sensor.b44_avariia_nizkii_kislorod
    - binary_sensor.b45_avariia_nizkii_kislorod
    - binary_sensor.b46_avariia_nizkii_kislorod
    - binary_sensor.b47_avariia_nizkii_kislorod
    - binary_sensor.b48_avariia_nizkii_kislorod
    - binary_sensor.b49_avariia_nizkii_kislorod
    - binary_sensor.b50_avariia_nizkii_kislorod
    - binary_sensor.b51_avariia_nizkii_kislorod
    - binary_sensor.b52_avariia_nizkii_kislorod
    - binary_sensor.b53_avariia_nizkii_kislorod
    - binary_sensor.b54_avariia_nizkii_kislorod
    - binary_sensor.b55_avariia_nizkii_kislorod
    - binary_sensor.b56_avariia_nizkii_kislorod
    - binary_sensor.b57_avariia_nizkii_kislorod
    - binary_sensor.b58_avariia_nizkii_kislorod
    - binary_sensor.b59_avariia_nizkii_kislorod
    - binary_sensor.b60_avariia_nizkii_kislorod
    - binary_sensor.b61_avariia_nizkii_kislorod
    - binary_sensor.b62_avariia_nizkii_kislorod
    - binary_sensor.b63_avariia_nizkii_kislorod
    - binary_sensor.b64_avariia_nizkii_kislorod
    - binary_sensor.b65_avariia_nizkii_kislorod
    - binary_sensor.b66_avariia_nizkii_kislorod
    - binary_sensor.b67_avariia_nizkii_kislorod
    - binary_sensor.b68_avariia_nizkii_kislorod
    - binary_sensor.b69_avariia_nizkii_kislorod
    - binary_sensor.b70_avariia_nizkii_kislorod
    - binary_sensor.b71_avariia_nizkii_kislorod
    - binary_sensor.b72_avariia_nizkii_kislorod
    - binary_sensor.b73_avariia_nizkii_kislorod
    - binary_sensor.b74_avariia_nizkii_kislorod
    - binary_sensor.b75_avariia_nizkii_kislorod
    - binary_sensor.b76_avariia_nizkii_kislorod
    - binary_sensor.b77_avariia_nizkii_kislorod
    - binary_sensor.b78_avariia_nizkii_kislorod
    - binary_sensor.b79_avariia_nizkii_kislorod
    - binary_sensor.b80_avariia_nizkii_kislorod
    - binary_sensor.b81_avariia_nizkii_kislorod
    - binary_sensor.b82_avariia_nizkii_kislorod
    - binary_sensor.b83_avariia_nizkii_kislorod
    - binary_sensor.b84_avariia_nizkii_kislorod
    - binary_sensor.b85_avariia_nizkii_kislorod
    - binary_sensor.b86_avariia_nizkii_kislorod
    - binary_sensor.b87_avariia_nizkii_kislorod
    - binary_sensor.b88_avariia_nizkii_kislorod
    - binary_sensor.b89_avariia_nizkii_kislorod
    - binary_sensor.b90_avariia_nizkii_kislorod
    - binary_sensor.b91_avariia_nizkii_kislorod
    - binary_sensor.b92_avariia_nizkii_kislorod
    - binary_sensor.b93_avariia_nizkii_kislorod
    - binary_sensor.b94_avariia_nizkii_kislorod
    - binary_sensor.b95_avariia_nizkii_kislorod
    - binary_sensor.b96_avariia_nizkii_kislorod
    - binary_sensor.b97_avariia_nizkii_kislorod
    - binary_sensor.b98_avariia_nizkii_kislorod
    - binary_sensor.b99_avariia_nizkii_kislorod
    - binary_sensor.b100_avariia_nizkii_kislorod
    to: 'on'
  condition:
  - condition: template
    value_template: '{{ trigger.to_state.state == ''on'' }}'
  action:
  - service: notify.telegram
    data:
      message: '{% set pool_num = trigger.entity_id.split(".")[1][1:3] | int %}{%
        set limit_sensor = "number.sh" ~ ((pool_num - 1) // 5 + 1) ~ "_niz_limit_kisloroda"
        %}{% set sensor = "sensor.b" ~  ("%02d" % pool_num) ~ "_kislorod" %}â€¼ï¸ Ğ‘Ğ°ÑÑĞµĞ¹Ğ½
        {{ pool_num }}.ğŸ«§ ĞšĞ¸ÑĞ»Ğ¾Ñ€Ğ¾Ğ´ {{ states(sensor) }}Ğ¼Ğ³/Ğ» < {{ states(limit_sensor)
        }}Ğ¼Ğ³/Ğ»'
  mode: queued
- alias: Notify Telegram on alarm avariia_vysokii_kislorod
  trigger:
  - platform: state
    entity_id:
    - binary_sensor.b01_avariia_vysokii_kislorod
    - binary_sensor.b02_avariia_vysokii_kislorod
    - binary_sensor.b03_avariia_vysokii_kislorod
    - binary_sensor.b04_avariia_vysokii_kislorod
    - binary_sensor.b05_avariia_vysokii_kislorod
    - binary_sensor.b06_avariia_vysokii_kislorod
    - binary_sensor.b07_avariia_vysokii_kislorod
    - binary_sensor.b08_avariia_vysokii_kislorod
    - binary_sensor.b09_avariia_vysokii_kislorod
    - binary_sensor.b10_avariia_vysokii_kislorod
    - binary_sensor.b11_avariia_vysokii_kislorod
    - binary_sensor.b12_avariia_vysokii_kislorod
    - binary_sensor.b13_avariia_vysokii_kislorod
    - binary_sensor.b14_avariia_vysokii_kislorod
    - binary_sensor.b15_avariia_vysokii_kislorod
    - binary_sensor.b16_avariia_vysokii_kislorod
    - binary_sensor.b17_avariia_vysokii_kislorod
    - binary_sensor.b18_avariia_vysokii_kislorod
    - binary_sensor.b19_avariia_vysokii_kislorod
    - binary_sensor.b20_avariia_vysokii_kislorod
    - binary_sensor.b21_avariia_vysokii_kislorod
    - binary_sensor.b22_avariia_vysokii_kislorod
    - binary_sensor.b23_avariia_vysokii_kislorod
    - binary_sensor.b24_avariia_vysokii_kislorod
    - binary_sensor.b25_avariia_vysokii_kislorod
    - binary_sensor.b26_avariia_vysokii_kislorod
    - binary_sensor.b27_avariia_vysokii_kislorod
    - binary_sensor.b28_avariia_vysokii_kislorod
    - binary_sensor.b29_avariia_vysokii_kislorod
    - binary_sensor.b30_avariia_vysokii_kislorod
    - binary_sensor.b31_avariia_vysokii_kislorod
    - binary_sensor.b32_avariia_vysokii_kislorod
    - binary_sensor.b33_avariia_vysokii_kislorod
    - binary_sensor.b34_avariia_vysokii_kislorod
    - binary_sensor.b35_avariia_vysokii_kislorod
    - binary_sensor.b36_avariia_vysokii_kislorod
    - binary_sensor.b37_avariia_vysokii_kislorod
    - binary_sensor.b38_avariia_vysokii_kislorod
    - binary_sensor.b39_avariia_vysokii_kislorod
    - binary_sensor.b40_avariia_vysokii_kislorod
    - binary_sensor.b41_avariia_vysokii_kislorod
    - binary_sensor.b42_avariia_vysokii_kislorod
    - binary_sensor.b43_avariia_vysokii_kislorod
    - binary_sensor.b44_avariia_vysokii_kislorod
    - binary_sensor.b45_avariia_vysokii_kislorod
    - binary_sensor.b46_avariia_vysokii_kislorod
    - binary_sensor.b47_avariia_vysokii_kislorod
    - binary_sensor.b48_avariia_vysokii_kislorod
    - binary_sensor.b49_avariia_vysokii_kislorod
    - binary_sensor.b50_avariia_vysokii_kislorod
    - binary_sensor.b51_avariia_vysokii_kislorod
    - binary_sensor.b52_avariia_vysokii_kislorod
    - binary_sensor.b53_avariia_vysokii_kislorod
    - binary_sensor.b54_avariia_vysokii_kislorod
    - binary_sensor.b55_avariia_vysokii_kislorod
    - binary_sensor.b56_avariia_vysokii_kislorod
    - binary_sensor.b57_avariia_vysokii_kislorod
    - binary_sensor.b58_avariia_vysokii_kislorod
    - binary_sensor.b59_avariia_vysokii_kislorod
    - binary_sensor.b60_avariia_vysokii_kislorod
    - binary_sensor.b61_avariia_vysokii_kislorod
    - binary_sensor.b62_avariia_vysokii_kislorod
    - binary_sensor.b63_avariia_vysokii_kislorod
    - binary_sensor.b64_avariia_vysokii_kislorod
    - binary_sensor.b65_avariia_vysokii_kislorod
    - binary_sensor.b66_avariia_vysokii_kislorod
    - binary_sensor.b67_avariia_vysokii_kislorod
    - binary_sensor.b68_avariia_vysokii_kislorod
    - binary_sensor.b69_avariia_vysokii_kislorod
    - binary_sensor.b70_avariia_vysokii_kislorod
    - binary_sensor.b71_avariia_vysokii_kislorod
    - binary_sensor.b72_avariia_vysokii_kislorod
    - binary_sensor.b73_avariia_vysokii_kislorod
    - binary_sensor.b74_avariia_vysokii_kislorod
    - binary_sensor.b75_avariia_vysokii_kislorod
    - binary_sensor.b76_avariia_vysokii_kislorod
    - binary_sensor.b77_avariia_vysokii_kislorod
    - binary_sensor.b78_avariia_vysokii_kislorod
    - binary_sensor.b79_avariia_vysokii_kislorod
    - binary_sensor.b80_avariia_vysokii_kislorod
    - binary_sensor.b81_avariia_vysokii_kislorod
    - binary_sensor.b82_avariia_vysokii_kislorod
    - binary_sensor.b83_avariia_vysokii_kislorod
    - binary_sensor.b84_avariia_vysokii_kislorod
    - binary_sensor.b85_avariia_vysokii_kislorod
    - binary_sensor.b86_avariia_vysokii_kislorod
    - binary_sensor.b87_avariia_vysokii_kislorod
    - binary_sensor.b88_avariia_vysokii_kislorod
    - binary_sensor.b89_avariia_vysokii_kislorod
    - binary_sensor.b90_avariia_vysokii_kislorod
    - binary_sensor.b91_avariia_vysokii_kislorod
    - binary_sensor.b92_avariia_vysokii_kislorod
    - binary_sensor.b93_avariia_vysokii_kislorod
    - binary_sensor.b94_avariia_vysokii_kislorod
    - binary_sensor.b95_avariia_vysokii_kislorod
    - binary_sensor.b96_avariia_vysokii_kislorod
    - binary_sensor.b97_avariia_vysokii_kislorod
    - binary_sensor.b98_avariia_vysokii_kislorod
    - binary_sensor.b99_avariia_vysokii_kislorod
    - binary_sensor.b100_avariia_vysokii_kislorod
    to: 'on'
  condition:
  - condition: template
    value_template: '{{ trigger.to_state.state == ''on'' }}'
  action:
  - service: notify.telegram
    data:
      message: '{% set pool_num = trigger.entity_id.split(".")[1][1:3] | int %}{%
        set limit_sensor = "number.sh" ~ ((pool_num - 1) // 5 + 1) ~ "_verkh_limit_kisloroda"
        %}{% set sensor = "sensor.b" ~  ("%02d" % pool_num) ~ "_kislorod" %}â€¼ï¸ Ğ‘Ğ°ÑÑĞµĞ¹Ğ½
        {{ pool_num }}.ğŸ«§ğŸ«§ ĞšĞ¸ÑĞ»Ğ¾Ñ€Ğ¾Ğ´ {{ states(sensor) }}Ğ¼Ğ³/Ğ» > {{ states(limit_sensor)
        }}Ğ¼Ğ³/Ğ»'
  mode: queued
- alias: Notify Telegram on no connect
  trigger:
    - platform: state
      entity_id:
        - binary_sensor.sh1_pitanie
        - binary_sensor.sh2_pitanie
        - binary_sensor.sh3_pitanie
        - binary_sensor.sh4_pitanie
        - binary_sensor.sh5_pitanie
        - binary_sensor.sh6_pitanie
        - binary_sensor.sh7_pitanie
        - binary_sensor.sh8_pitanie
        - binary_sensor.sh9_pitanie
        - binary_sensor.sh10_pitanie
        - binary_sensor.sh11_pitanie
        - binary_sensor.sh12_pitanie
        - binary_sensor.sh13_pitanie
        - binary_sensor.sh14_pitanie
        - binary_sensor.sh15_pitanie
        - binary_sensor.sh16_pitanie
        - binary_sensor.sh17_pitanie
        - binary_sensor.sh18_pitanie
        - binary_sensor.sh19_pitanie
        - binary_sensor.sh20_pitanie
      to:
        - 'unknown'
        - 'unavailable'
  action:
    - service: notify.telegram
      data:
        message: >
          {% set num = trigger.entity_id.split(".")[1][2:4].rstrip('_') | int %}
          â€¼ï¸ ĞŸĞ›Ğš {{ num }}. â›“ï¸â€ğŸ’¥ ĞĞµÑ‚ ÑĞ²ÑĞ·Ğ¸
  mode: queued
- alias: Notify Telegram on no connect repeat
  trigger:
    - platform: time_pattern
      minutes: "0"
  condition:
    - condition: state
      entity_id:
        - binary_sensor.sh1_pitanie
        - binary_sensor.sh2_pitanie
        - binary_sensor.sh3_pitanie
        - binary_sensor.sh4_pitanie
        - binary_sensor.sh5_pitanie
        - binary_sensor.sh6_pitanie
        - binary_sensor.sh7_pitanie
        - binary_sensor.sh8_pitanie
        - binary_sensor.sh9_pitanie
        - binary_sensor.sh10_pitanie
        - binary_sensor.sh11_pitanie
        - binary_sensor.sh12_pitanie
        - binary_sensor.sh13_pitanie
        - binary_sensor.sh14_pitanie
        - binary_sensor.sh15_pitanie
        - binary_sensor.sh16_pitanie
        - binary_sensor.sh17_pitanie
        - binary_sensor.sh18_pitanie
        - binary_sensor.sh19_pitanie
        - binary_sensor.sh20_pitanie
      state:
        - 'unknown'
        - 'unavailable'
  action:
    - service: notify.telegram
      data:
        message: >
          {% set num = trigger.entity_id.split(".")[1][2:4].rstrip('_') | int %}
          â° ĞĞ°Ğ¿Ğ¾Ğ¼Ğ¸Ğ½Ğ°Ğ½Ğ¸Ğµ! â€¼ï¸ ĞŸĞ›Ğš {{ num }}. â›“ï¸â€ğŸ’¥ ĞĞµÑ‚ ÑĞ²ÑĞ·Ğ¸
  mode: queued
